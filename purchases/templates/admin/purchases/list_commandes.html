{% extends "admin/base.html" %}

{% block title %}{% if subtitle %}{{ subtitle }} | {% endif %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block branding %}
<div id="site-name"><a href="{% url 'admin:index' %}">{{ site_header|default:_('Django administration') }}</a></div>
{% if user.is_anonymous %}
  {% include "admin/color_theme_toggle.html" %}
{% endif %}
{% endblock %}

{% block nav-global %}{% endblock %}
{% block extrastyle %}
<!-- Font Awesome -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  rel="stylesheet"
/>
<!-- Google Fonts -->
<link
  href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
  rel="stylesheet"
/>
 <!-- highcharts -->     
<!-- JQUERY -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<!-- AXIOS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"
    integrity="sha512-u9akINsQsAkG9xjc1cnGF4zw5TFDwkxuc9vUp5dltDWYCSmyd0meygbvgXrlc/z7/o4a19Fb5V0OUE58J7dcyw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>

<!-- AJAX -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/fr.js"></script> <!-- Inclure le support du français -->
<style>

</style>
{% endblock %}

{% block content %}
<!-- EXEMPLE DE CONTENUE -->
<div class="col-md-12" id="app">
    <div class="container-fluid">

     
    
        <!--    STATS FINANCE -->
        <div class="col-md-12 bg-white mb-4 p-2 shadow-2-soft" style="border-bottom: 2px solid rgb(203, 19, 19);">
        <div class="row">
            <div class="col-xl-3 col-sm-6 col-12 pt-2" style="border-right: 1px solid #e4e4e4;">
                <div class="card pb-0 rounded-0  border-0 shadow-none">
                    <div class="card-body p-2 shadow-0" >
                    <div  class="d-flex justify-content-between px-md-1">
                        <div class="align-self-center bg-opacity-10 bg-primary rounded-circle p-3">
                        <i class="fas fa-recycle text-white fa-2x"></i>
                        </div>
                        <div class="col-md-8 p-0 text-right">
                            <h2 class="h3 text-primary" id="today-commandes"></h2>
                            
                            <p class="h4 card-subtitle mb-2 text-muted info-1" >Commandes aujourd'hui</p>
                            <small class="h6 card-subtitle mb-2 text-muted"> 
                                Montant : 
                                <span class="text-primary h6" id="sub-today-commandes"></span> 
                                
                            </small>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 col-12 pt-2" style="border-right: 1px solid #e4e4e4;">
                <div class="card pb-0 rounded-0  border-0 shadow-none">
                    <div class="card-body p-2 shadow-0" >
                    <div  class="d-flex justify-content-between px-md-1">
                        <div class="align-self-center bg-opacity-10 bg-danger rounded-circle p-3">
                        <i class="fas fa-recycle text-white fa-2x"></i>
                        </div>
                        <div class="col-md-8 p-0 text-right">
                            <h2 class="h3 text-danger" id="commandes-valides">0 F</h2>
                            
                            <p class="h4 card-subtitle font-weight-bold  text-muted">Commandes validées</p>
                            <small class="h6 card-subtitle mb-2 text-muted"> 
                                <span class="text-danger" id="sub-commandes-valides">5</span> 
                                commande validés pour Aujourd'hui
                            </small>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 col-12 pt-2 " style="border-right: 1px solid #e4e4e4;">
                <div class="card pb-0 rounded-0  border-0 shadow-none">
                    <div class="card-body p-2 shadow-0" >
                    <div  class="d-flex justify-content-between px-md-1">
                        <div class="align-self-center bg-opacity-10 bg-warning rounded-circle p-3">
                        <i class="fas fa-recycle text-white fa-2x"></i>
                        </div>
                        <div class="col-md-8 p-0 text-right">
                           <h2 class="h3 text-warning" id="total-commandes">0 F</h2>
                            
                            <p class="h4 card-subtitle mb-2 text-muted">Total commandes</p>
                            <small class="h6 card-subtitle mb-2 text-muted"> 
                                <span class="text-warning" id="sub-commandes-valides">0</span> 
                                 commande pour ce mois
                            </small>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 col-12 pt-2" >
                <div class="card pb-0 rounded-0  border-0 shadow-none">
                    <div class="card-body p-2 shadow-0" >
                    <div  class="d-flex justify-content-between px-md-1">
                        <div class="align-self-center bg-opacity-10 bg-info rounded-circle p-3">
                        <i class="fas fa-recycle text-white fa-2x"></i>
                        </div>
                        <div class="col-md-8 p-0 text-right">
                            <h2 class="h3 text-info" id="montant-commandes">0 F</h2>
                            
                            <p class="h4 card-subtitle mb-2 text-muted">Montant commandes</p>
                            <small class="h6 card-subtitle mb-2 text-muted"> 
                                Montant du mois :
                                <span class="text-danger" id="sub-commandes-valides">0</span> 
                                
                            </small>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
        </div>

        

                <div class="card p-4 rounded-0" style="border-bottom: 2px solid rgb(28, 247, 39);">
                    <div class="card-header bg-white">
                        <h2 class="font-weight-bold">Nos Commandes</h2>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table align-middle mb-0 bg-white table-sm table-hover" id="table_id">
                                <thead>
                                    <tr>
                                        <th>#Ref</th>
                                        <th>Nom Client</th>
                                        <th>Contact(s)</th>
                                        <th>Montant</th>
                                        <th>Etat</th>
                                        <th>Date</th>
                                        <th>Operations</th>
                                    </tr>
                                </thead>
                                <tbody class="text-left">
                                    <tr>
                                        <td>#GFEGDFH66ZE65</td>
                                        <th>Yasin Junior</td>
                                        <th>junioressoh98@gmail.com / +225 07 79 09 54 47</td>
                                        <th>56.000 F CFA</td>
                                        <th><span class="badge bg-gradient-warning text-white p-2">En cours</span></td>
                                        <th>15/09/2023 18:50</td>
                                        <th>
                                                <a rel="autre" class="btn btn-link btn-sm px-1 mr-1 text-center  text-dark detail_cat"><i class="fas fa-eye-slash fa-2x"></i></a>
                                                <a rel="update" class="btn btn-link btn-sm px-1 text-primary mr-2 update"><i class="fas fa-pen fa-2x"></i></a>
                                                <a rel="delete" class="btn btn-link btn-sm px-1 text-danger delete"><i class="fas fa-trash fa-2x"></i></a>
                                        </td>
                                    </tr>
                                        
                                </tbody>
                                <tfoot>
                                    <th>#Ref</th>
                                    <th>Nom Client</th>
                                    <th>Contact(s)</th>
                                    <th>Montant</th>
                                    <th>Etat</th>
                                    <th>Date</th>
                                    <th>Operations</th>
                                </tfoot>
                            </table>
                            <!-- /.table-->
                        </div>
                    </div>
                    <div class="card-header bg-white">
                        <h6 class="font-weight-bold">20 Commandes</h6>
                    </div>
                </div>
                
        



    </div>
</div>
<!-- EXEMPLE DE CONTENUE -->

<script>
    $(document).ready(async function () {
    var host = '/media/';
    var money_format = new Intl.NumberFormat('fr-FR', {
    style: 'currency',
    currency: 'XOF',
    currencyDisplay: 'symbol',
    });
    moment.locale('fr');
    axios.defaults.xsrfCookieName = "csrftoken";
    axios.defaults.xsrfHeaderName = "X-CSRFtoken";

    const getData = await axios.post("/stats/");
    var stats_data=getData.data ;
   



     });  

</script>



{% endblock %}